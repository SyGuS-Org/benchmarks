(set-logic LRA)

(define-fun next_locY ((locY Real) (velY Real)) Real
    (ite (< (+ locY velY) 0) (- (+ locY (+ velY velY))) (ite (> (+ locY velY) 79) (- 158 (+ locY velY)) (+ locY velY) )))

(define-fun update_velY ((locY Real) (velY Real)) Real
    (ite (or (< (+ locY velY) 0) (> (+ locY velY) 79)) (- velY) velY))

(define-fun safe_pos ((locX Real) (locY Real)) Bool
    (and (< locX 40) (>= locX 10) (< locY 80) (>= locY 0)))

(define-fun safe_vel ((velY Real)) Bool
    (or (= velY (- 4)) (= velY (- 2)) (= velY 0) (= velY 2) (= velY 4)))

(synth-fun y_hit ((locX Real) (locY Real) (velY Real)) Real
    ((Start Real) (RealNum Real))
    ((Start Real (
        RealNum
        (+ Start RealNum)
        (- RealNum RealNum)
        (* Start Start)
        ))
    (RealNum Real (
        69
        0.5
        locX
        locY
        velY
        ))
    ))

    (declare-var locX0 Real)
    (declare-var locY0 Real)
    (declare-var velY0 Real)
    (declare-var locX1 Real)
    (declare-var locY1 Real)
    (declare-var velY1 Real)
    (declare-var locX2 Real)
    (declare-var locY2 Real)
    (declare-var velY2 Real)
    (declare-var locX3 Real)
    (declare-var locY3 Real)
    (declare-var velY3 Real)
    (declare-var locX4 Real)
    (declare-var locY4 Real)
    (declare-var velY4 Real)
    (declare-var locX5 Real)
    (declare-var locY5 Real)
    (declare-var velY5 Real)
    (declare-var locX6 Real)
    (declare-var locY6 Real)
    (declare-var velY6 Real)
    (declare-var locX7 Real)
    (declare-var locY7 Real)
    (declare-var velY7 Real)
    (declare-var locX8 Real)
    (declare-var locY8 Real)
    (declare-var velY8 Real)
    (declare-var locX9 Real)
    (declare-var locY9 Real)
    (declare-var velY9 Real)
    (declare-var locX10 Real)
    (declare-var locY10 Real)
    (declare-var velY10 Real)
    (declare-var locX11 Real)
    (declare-var locY11 Real)
    (declare-var velY11 Real)
    (declare-var locX12 Real)
    (declare-var locY12 Real)
    (declare-var velY12 Real)
    (declare-var locX13 Real)
    (declare-var locY13 Real)
    (declare-var velY13 Real)
    (declare-var locX14 Real)
    (declare-var locY14 Real)
    (declare-var velY14 Real)
    (declare-var locX15 Real)
    (declare-var locY15 Real)
    (declare-var velY15 Real)
    (declare-var locX16 Real)
    (declare-var locY16 Real)
    (declare-var velY16 Real)
    (declare-var locX17 Real)
    (declare-var locY17 Real)
    (declare-var velY17 Real)
    (declare-var locX18 Real)
    (declare-var locY18 Real)
    (declare-var velY18 Real)
    (declare-var locX19 Real)
    (declare-var locY19 Real)
    (declare-var velY19 Real)
    (declare-var locX20 Real)
    (declare-var locY20 Real)
    (declare-var velY20 Real)
    (declare-var locX21 Real)
    (declare-var locY21 Real)
    (declare-var velY21 Real)
    (declare-var locX22 Real)
    (declare-var locY22 Real)
    (declare-var velY22 Real)
    (declare-var locX23 Real)
    (declare-var locY23 Real)
    (declare-var velY23 Real)
    (declare-var locX24 Real)
    (declare-var locY24 Real)
    (declare-var velY24 Real)
    (declare-var locX25 Real)
    (declare-var locY25 Real)
    (declare-var velY25 Real)
    (declare-var locX26 Real)
    (declare-var locY26 Real)
    (declare-var velY26 Real)
    (declare-var locX27 Real)
    (declare-var locY27 Real)
    (declare-var velY27 Real)
    (declare-var locX28 Real)
    (declare-var locY28 Real)
    (declare-var velY28 Real)
    (declare-var locX29 Real)
    (declare-var locY29 Real)
    (declare-var velY29 Real)
    (declare-var locX30 Real)
    (declare-var locY30 Real)
    (declare-var velY30 Real)

(define-fun is_predicted ((locX Real) (locY Real) (predictedY Real)) Bool
    (and (>= locX 69) (<= locX 71) (<= (- predictedY 4) locY) (>= (+ predictedY 4) locY)))


    (constraint
    (=>
    (and (safe_pos locX0 locY0) (safe_vel velY0)
         (= locX1 (+ locX0 2))
         (= locY1 (next_locY locY0 velY0))
         (= velY1 (update_velY locY0 velY0))
         (= locX2 (+ locX1 2))
         (= locY2 (next_locY locY1 velY1))
         (= velY2 (update_velY locY1 velY1))
         (= locX3 (+ locX2 2))
         (= locY3 (next_locY locY2 velY2))
         (= velY3 (update_velY locY2 velY2))
         (= locX4 (+ locX3 2))
         (= locY4 (next_locY locY3 velY3))
         (= velY4 (update_velY locY3 velY3))
         (= locX5 (+ locX4 2))
         (= locY5 (next_locY locY4 velY4))
         (= velY5 (update_velY locY4 velY4))
         (= locX6 (+ locX5 2))
         (= locY6 (next_locY locY5 velY5))
         (= velY6 (update_velY locY5 velY5))
         (= locX7 (+ locX6 2))
         (= locY7 (next_locY locY6 velY6))
         (= velY7 (update_velY locY6 velY6))
         (= locX8 (+ locX7 2))
         (= locY8 (next_locY locY7 velY7))
         (= velY8 (update_velY locY7 velY7))
         (= locX9 (+ locX8 2))
         (= locY9 (next_locY locY8 velY8))
         (= velY9 (update_velY locY8 velY8))
         (= locX10 (+ locX9 2))
         (= locY10 (next_locY locY9 velY9))
         (= velY10 (update_velY locY9 velY9))
         (= locX11 (+ locX10 2))
         (= locY11 (next_locY locY10 velY10))
         (= velY11 (update_velY locY10 velY10))
         (= locX12 (+ locX11 2))
         (= locY12 (next_locY locY11 velY11))
         (= velY12 (update_velY locY11 velY11))
         (= locX13 (+ locX12 2))
         (= locY13 (next_locY locY12 velY12))
         (= velY13 (update_velY locY12 velY12))
         (= locX14 (+ locX13 2))
         (= locY14 (next_locY locY13 velY13))
         (= velY14 (update_velY locY13 velY13))
         (= locX15 (+ locX14 2))
         (= locY15 (next_locY locY14 velY14))
         (= velY15 (update_velY locY14 velY14))
         (= locX16 (+ locX15 2))
         (= locY16 (next_locY locY15 velY15))
         (= velY16 (update_velY locY15 velY15))
         (= locX17 (+ locX16 2))
         (= locY17 (next_locY locY16 velY16))
         (= velY17 (update_velY locY16 velY16))
         (= locX18 (+ locX17 2))
         (= locY18 (next_locY locY17 velY17))
         (= velY18 (update_velY locY17 velY17))
         (= locX19 (+ locX18 2))
         (= locY19 (next_locY locY18 velY18))
         (= velY19 (update_velY locY18 velY18))
         (= locX20 (+ locX19 2))
         (= locY20 (next_locY locY19 velY19))
         (= velY20 (update_velY locY19 velY19))
         (= locX21 (+ locX20 2))
         (= locY21 (next_locY locY20 velY20))
         (= velY21 (update_velY locY20 velY20))
         (= locX22 (+ locX21 2))
         (= locY22 (next_locY locY21 velY21))
         (= velY22 (update_velY locY21 velY21))
         (= locX23 (+ locX22 2))
         (= locY23 (next_locY locY22 velY22))
         (= velY23 (update_velY locY22 velY22))
         (= locX24 (+ locX23 2))
         (= locY24 (next_locY locY23 velY23))
         (= velY24 (update_velY locY23 velY23))
         (= locX25 (+ locX24 2))
         (= locY25 (next_locY locY24 velY24))
         (= velY25 (update_velY locY24 velY24))
         (= locX26 (+ locX25 2))
         (= locY26 (next_locY locY25 velY25))
         (= velY26 (update_velY locY25 velY25))
         (= locX27 (+ locX26 2))
         (= locY27 (next_locY locY26 velY26))
         (= velY27 (update_velY locY26 velY26))
         (= locX28 (+ locX27 2))
         (= locY28 (next_locY locY27 velY27))
         (= velY28 (update_velY locY27 velY27))
         (= locX29 (+ locX28 2))
         (= locY29 (next_locY locY28 velY28))
         (= velY29 (update_velY locY28 velY28))
         (= locX30 (+ locX29 2))
         (= locY30 (next_locY locY29 velY29))
         (= velY30 (update_velY locY29 velY29))
    )
    (or (is_predicted locX1 locY1 (y_hit locX0 locY0 velY0))(is_predicted locX2 locY2 (y_hit locX0 locY0 velY0))(is_predicted locX3 locY3 (y_hit locX0 locY0 velY0))(is_predicted locX4 locY4 (y_hit locX0 locY0 velY0))(is_predicted locX5 locY5 (y_hit locX0 locY0 velY0))(is_predicted locX6 locY6 (y_hit locX0 locY0 velY0))(is_predicted locX7 locY7 (y_hit locX0 locY0 velY0))(is_predicted locX8 locY8 (y_hit locX0 locY0 velY0))(is_predicted locX9 locY9 (y_hit locX0 locY0 velY0))(is_predicted locX10 locY10 (y_hit locX0 locY0 velY0))(is_predicted locX11 locY11 (y_hit locX0 locY0 velY0))(is_predicted locX12 locY12 (y_hit locX0 locY0 velY0))(is_predicted locX13 locY13 (y_hit locX0 locY0 velY0))(is_predicted locX14 locY14 (y_hit locX0 locY0 velY0))(is_predicted locX15 locY15 (y_hit locX0 locY0 velY0))(is_predicted locX16 locY16 (y_hit locX0 locY0 velY0))(is_predicted locX17 locY17 (y_hit locX0 locY0 velY0))(is_predicted locX18 locY18 (y_hit locX0 locY0 velY0))(is_predicted locX19 locY19 (y_hit locX0 locY0 velY0))(is_predicted locX20 locY20 (y_hit locX0 locY0 velY0))(is_predicted locX21 locY21 (y_hit locX0 locY0 velY0))(is_predicted locX22 locY22 (y_hit locX0 locY0 velY0))(is_predicted locX23 locY23 (y_hit locX0 locY0 velY0))(is_predicted locX24 locY24 (y_hit locX0 locY0 velY0))(is_predicted locX25 locY25 (y_hit locX0 locY0 velY0))(is_predicted locX26 locY26 (y_hit locX0 locY0 velY0))(is_predicted locX27 locY27 (y_hit locX0 locY0 velY0))(is_predicted locX28 locY28 (y_hit locX0 locY0 velY0))(is_predicted locX29 locY29 (y_hit locX0 locY0 velY0))(is_predicted locX30 locY30 (y_hit locX0 locY0 velY0)))))

(check-synth)